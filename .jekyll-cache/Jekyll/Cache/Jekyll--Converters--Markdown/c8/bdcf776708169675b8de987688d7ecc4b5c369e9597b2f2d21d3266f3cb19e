I"•É<h1 id="web-scraping-nba">Web-Scraping NBA</h1>

<h2 id="import-the-necessary-packages">Import the necessary packages</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w"> </span><span class="c1"># manipulation, visualisation, tidying data</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">janitor</span><span class="p">)</span><span class="w"> </span><span class="c1"># cleaning the data</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rvest</span><span class="p">)</span><span class="w"> </span><span class="c1"># scrapping the web data</span><span class="w">
</span><span class="c1">#install.packages("hablar") # converts data type</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">hablar</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">flextable</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="declaring-the-url-of-the-table-to-be-imported">Declaring the url of the table to be imported</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html"</span><span class="w">
</span><span class="c1"># create a var pageobj to read the url address and transform the content into a data frame</span><span class="w">
</span><span class="n">pageobj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">as.tibble</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">

</span><span class="c1"># create a variable ALLStarPlayes that is holding the content of the first table from the webpage we imported anterior.</span><span class="w">
</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pageobj</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">"table"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">.</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">html_table</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 469
## Columns: 30
## $ ``         &lt;chr&gt; "Player", "Kareem Abdul-Jabbar", "LeBron James", "Kobe B...
## $ ``         &lt;chr&gt; "G", "18", "16", "15", "15", "14", "14", "13", "13", "13...
## $ ``         &lt;chr&gt; "GS", "13", "16", "15", "12", "11", "2", "13", "9", "", ...
## $ ``         &lt;chr&gt; "MP", "449", "460", "415", "311", "287", "227", "382", "...
## $ ``         &lt;chr&gt; "FG", "105", "159", "119", "63", "72", "49", "110", "72"...
## $ ``         &lt;chr&gt; "FGA", "213", "303", "238", "115", "141", "109", "233", ...
## $ ``         &lt;chr&gt; "FG%", ".493", ".525", ".500", ".548", ".511", ".450", "...
## $ ``         &lt;chr&gt; "3P", "0", "38", "22", "1", "0", "10", "3", "", "", "", ...
## $ ``         &lt;chr&gt; "3PA", "1", "116", "68", "4", "4", "34", "11", "", "", "...
## $ ``         &lt;chr&gt; "3P%", ".000", ".328", ".324", ".250", ".000", ".294", "...
## $ ``         &lt;chr&gt; "2P", "105", "121", "97", "62", "72", "39", "107", "72",...
## $ ``         &lt;chr&gt; "2PA", "212", "187", "170", "111", "137", "75", "222", "...
## $ ``         &lt;chr&gt; "2P%", ".495", ".647", ".571", ".559", ".526", ".520", "...
## $ ``         &lt;chr&gt; "FT", "41", "29", "30", "13", "14", "14", "39", "47", "4...
## $ ``         &lt;chr&gt; "FTA", "50", "40", "38", "17", "16", "16", "52", "94", "...
## $ ``         &lt;chr&gt; "FT%", ".820", ".725", ".789", ".765", ".875", ".875", "...
## $ ``         &lt;chr&gt; "ORB", "33", "13", "28", "38", "25", "15", "22", "", "",...
## $ ``         &lt;chr&gt; "DRB", "84", "88", "47", "98", "63", "37", "39", "", "",...
## $ ``         &lt;chr&gt; "TRB", "149", "101", "75", "136", "88", "52", "61", "197...
## $ ``         &lt;chr&gt; "AST", "51", "94", "70", "31", "40", "16", "54", "36", "...
## $ ``         &lt;chr&gt; "STL", "6", "19", "38", "13", "16", "10", "37", "", "", ...
## $ ``         &lt;chr&gt; "BLK", "31", "6", "6", "8", "11", "5", "6", "", "", "0",...
## $ ``         &lt;chr&gt; "TOV", "28", "54", "35", "31", "20", "14", "42", "", "",...
## $ ``         &lt;chr&gt; "PF", "57", "18", "35", "16", "10", "8", "31", "23", "27...
## $ ``         &lt;chr&gt; "PTS", "251", "385", "290", "140", "158", "122", "262", ...
## $ ``         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...
## $ `Per Game` &lt;chr&gt; "MP", "24.9", "28.7", "27.7", "20.7", "20.5", "16.2", "2...
## $ `Per Game` &lt;chr&gt; "PTS", "13.9", "24.1", "19.3", "9.3", "11.3", "8.7", "20...
## $ `Per Game` &lt;chr&gt; "TRB", "8.3", "6.3", "5.0", "9.1", "6.3", "3.7", "4.7", ...
## $ `Per Game` &lt;chr&gt; "AST", "2.8", "5.9", "4.7", "2.1", "2.9", "1.1", "4.2", ...
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Notice for All-Star Player stats there is a single data table on the website we specified. Therefore, as shown above we referenced the page object as [[1]] indicating it is the first (in this case only) data table on the site.</span><span class="w">
</span></code></pre></div></div>

<h2 id="data-cleaning-updating-variable-names">Data Cleaning: Updating Variable Names</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The janitor package offers two functions that help us with the cleaning proocess:</span><span class="w">
</span><span class="c1"># Converts all row names to follow tidyverse style requirements</span><span class="w">
</span><span class="c1"># column names are changed from capital letters to small letters</span><span class="w">
</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">row_to_names</span><span class="p">(</span><span class="n">row_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">remove_row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">remove_rows_above</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">clean_names</span><span class="p">()</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span><span class="nf">names</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##  [1] "player"      "g"           "gs"          "mp"          "fg"         
##  [6] "fga"         "fg_percent"  "x3p"         "x3pa"        "x3p_percent"
## [11] "x2p"         "x2pa"        "x2p_percent" "ft"          "fta"        
## [16] "ft_percent"  "orb"         "drb"         "trb"         "ast"        
## [21] "stl"         "blk"         "tov"         "pf"          "pts"        
## [26] "na"          "mp_2"        "pts_2"       "trb_2"       "ast_2"
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># In AllStarPlayers ast: is the total number of assists across all games</span><span class="w">
</span><span class="c1"># In AllStarPlayers ast2: is the average number of assists per game</span><span class="w">
</span><span class="c1"># In ONeal ast: is the average number of assists per game</span><span class="w">
</span><span class="c1"># To avoid confussion we have to create column names that are more descriptive</span><span class="w">
</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="s2">"mins_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mp"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"pts_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pts"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trb_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"trb"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ast_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ast"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"mins_per_game"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mp_2"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"pts_per_game"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pts_2"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trb_per_game"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"trb_2"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ast_per_game"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ast_2"</span><span class="p">)</span><span class="w">

</span><span class="nf">names</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##  [1] "player"        "g"             "gs"            "mins_total"   
##  [5] "fg"            "fga"           "fg_percent"    "x3p"          
##  [9] "x3pa"          "x3p_percent"   "x2p"           "x2pa"         
## [13] "x2p_percent"   "ft"            "fta"           "ft_percent"   
## [17] "orb"           "drb"           "trb_total"     "ast_total"    
## [21] "stl"           "blk"           "tov"           "pf"           
## [25] "pts_total"     "na"            "mins_per_game" "pts_per_game" 
## [29] "trb_per_game"  "ast_per_game"
</code></pre></div></div>

<h2 id="data-cleaning-remove-subheadings">Data Cleaning: Remove Subheadings</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The AllStarPlayers dataset has multiple rows that repeat the variable heading names. This is a useful feature when scrolling through large datasets online, as there is always a row displayed on the screen to reference.</span><span class="w">

</span><span class="n">get_dupes</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">flextable</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">filter</span><span class="p">(</span><span class="w">
    </span><span class="n">player</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"Player"</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="create-new-variables">Create New Variables</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># verify the the feature characteristics</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 426
## Columns: 30
## $ player        &lt;chr&gt; "Kareem Abdul-Jabbar", "LeBron James", "Kobe Bryant",...
## $ g             &lt;chr&gt; "18", "16", "15", "15", "14", "14", "13", "13", "13",...
## $ gs            &lt;chr&gt; "13", "16", "15", "12", "11", "2", "13", "9", "", "10...
## $ mins_total    &lt;chr&gt; "449", "460", "415", "311", "287", "227", "382", "388...
## $ fg            &lt;chr&gt; "105", "159", "119", "63", "72", "49", "110", "72", "...
## $ fga           &lt;chr&gt; "213", "303", "238", "115", "141", "109", "233", "122...
## $ fg_percent    &lt;chr&gt; ".493", ".525", ".500", ".548", ".511", ".450", ".472...
## $ x3p           &lt;chr&gt; "0", "38", "22", "1", "0", "10", "3", "", "", "", "1"...
## $ x3pa          &lt;chr&gt; "1", "116", "68", "4", "4", "34", "11", "", "", "", "...
## $ x3p_percent   &lt;chr&gt; ".000", ".328", ".324", ".250", ".000", ".294", ".273...
## $ x2p           &lt;chr&gt; "105", "121", "97", "62", "72", "39", "107", "72", "5...
## $ x2pa          &lt;chr&gt; "212", "187", "170", "111", "137", "75", "222", "122"...
## $ x2p_percent   &lt;chr&gt; ".495", ".647", ".571", ".559", ".526", ".520", ".482...
## $ ft            &lt;chr&gt; "41", "29", "30", "13", "14", "14", "39", "47", "43",...
## $ fta           &lt;chr&gt; "50", "40", "38", "17", "16", "16", "52", "94", "51",...
## $ ft_percent    &lt;chr&gt; ".820", ".725", ".789", ".765", ".875", ".875", ".750...
## $ orb           &lt;chr&gt; "33", "13", "28", "38", "25", "15", "22", "", "", "2"...
## $ drb           &lt;chr&gt; "84", "88", "47", "98", "63", "37", "39", "", "", "10...
## $ trb_total     &lt;chr&gt; "149", "101", "75", "136", "88", "52", "61", "197", "...
## $ ast_total     &lt;chr&gt; "51", "94", "70", "31", "40", "16", "54", "36", "86",...
## $ stl           &lt;chr&gt; "6", "19", "38", "13", "16", "10", "37", "", "", "4",...
## $ blk           &lt;chr&gt; "31", "6", "6", "8", "11", "5", "6", "", "", "0", "23...
## $ tov           &lt;chr&gt; "28", "54", "35", "31", "20", "14", "42", "", "", "4"...
## $ pf            &lt;chr&gt; "57", "18", "35", "16", "10", "8", "31", "23", "27", ...
## $ pts_total     &lt;chr&gt; "251", "385", "290", "140", "158", "122", "262", "191...
## $ na            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ mins_per_game &lt;chr&gt; "24.9", "28.7", "27.7", "20.7", "20.5", "16.2", "29.4...
## $ pts_per_game  &lt;chr&gt; "13.9", "24.1", "19.3", "9.3", "11.3", "8.7", "20.2",...
## $ trb_per_game  &lt;chr&gt; "8.3", "6.3", "5.0", "9.1", "6.3", "3.7", "4.7", "15....
## $ ast_per_game  &lt;chr&gt; "2.8", "5.9", "4.7", "2.1", "2.9", "1.1", "4.2", "2.8...
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># As one can see all the columns has been imported by rvest as characters we have now to work on converting them into integers and numeric</span><span class="w">
</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">convert</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="s2">"g"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gs"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mins_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fg"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fga"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3p"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3pa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x2p"</span><span class="p">,</span><span class="w">    
      </span><span class="s2">"x2pa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ft"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"orb"</span><span class="p">,</span><span class="w"> </span><span class="s2">"drb"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trb_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ast_total"</span><span class="p">,</span><span class="w">  
      </span><span class="s2">"stl"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tov"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mins_per_game"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pts_per_game"</span><span class="p">,</span><span class="w">    
      </span><span class="s2">"trb_per_game"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ast_per_game"</span><span class="p">),</span><span class="w">
      </span><span class="n">num</span><span class="p">(</span><span class="s2">"fg_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3p_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x2p_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ft_percent"</span><span class="p">))</span><span class="w">
</span><span class="c1"># evaluate the transformation</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 426
## Columns: 30
## $ player        &lt;chr&gt; "Kareem Abdul-Jabbar", "LeBron James", "Kobe Bryant",...
## $ g             &lt;int&gt; 18, 16, 15, 15, 14, 14, 13, 13, 13, 13, 12, 12, 12, 1...
## $ gs            &lt;int&gt; 13, 16, 15, 12, 11, 2, 13, 9, NA, 10, 8, 11, 8, 9, 10...
## $ mins_total    &lt;int&gt; 449, 460, 415, 311, 287, 227, 382, 388, NA, 303, 270,...
## $ fg            &lt;int&gt; 105, 159, 119, 63, 72, 49, 110, 72, 52, 74, 45, 62, 5...
## $ fga           &lt;int&gt; 213, 303, 238, 115, 141, 109, 233, 122, 158, 154, 110...
## $ fg_percent    &lt;dbl&gt; 0.493, 0.525, 0.500, 0.548, 0.511, 0.450, 0.472, 0.59...
## $ x3p           &lt;int&gt; 0, 38, 22, 1, 0, 10, 3, NA, NA, NA, 1, NA, 0, 0, NA, ...
## $ x3pa          &lt;int&gt; 1, 116, 68, 4, 4, 34, 11, NA, NA, NA, 1, NA, 0, 2, NA...
## $ x3p_percent   &lt;dbl&gt; 0.000, 0.328, 0.324, 0.250, 0.000, 0.294, 0.273, NA, ...
## $ x2p           &lt;int&gt; 105, 121, 97, 62, 72, 39, 107, 72, 52, 74, 44, 62, 58...
## $ x2pa          &lt;int&gt; 212, 187, 170, 111, 137, 75, 222, 122, 158, 154, 109,...
## $ x2p_percent   &lt;dbl&gt; 0.495, 0.647, 0.571, 0.559, 0.526, 0.520, 0.482, 0.59...
## $ ft            &lt;int&gt; 41, 29, 30, 13, 14, 14, 39, 47, 43, 31, 26, 36, 29, 2...
## $ fta           &lt;int&gt; 50, 40, 38, 17, 16, 16, 52, 94, 51, 41, 50, 50, 40, 6...
## $ ft_percent    &lt;dbl&gt; 0.820, 0.725, 0.789, 0.765, 0.875, 0.875, 0.750, 0.50...
## $ orb           &lt;int&gt; 33, 13, 28, 38, 25, 15, 22, NA, NA, 2, 38, NA, 19, 39...
## $ drb           &lt;int&gt; 84, 88, 47, 98, 63, 37, 39, NA, NA, 10, 56, NA, 55, 5...
## $ trb_total     &lt;int&gt; 149, 101, 75, 136, 88, 52, 61, 197, 78, 46, 94, 47, 7...
## $ ast_total     &lt;int&gt; 51, 94, 70, 31, 40, 16, 54, 36, 86, 31, 17, 55, 19, 1...
## $ stl           &lt;int&gt; 6, 19, 38, 13, 16, 10, 37, NA, NA, 4, 15, NA, 12, 13,...
## $ blk           &lt;int&gt; 31, 6, 6, 8, 11, 5, 6, NA, NA, 0, 23, NA, 5, 19, NA, ...
## $ tov           &lt;int&gt; 28, 54, 35, 31, 20, 14, 42, NA, NA, 4, 26, NA, 15, 22...
## $ pf            &lt;int&gt; 57, 18, 35, 16, 10, 8, 31, 23, 27, 20, 31, 28, 16, 29...
## $ pts_total     &lt;chr&gt; "251", "385", "290", "140", "158", "122", "262", "191...
## $ na            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ mins_per_game &lt;int&gt; 24, 28, 27, 20, 20, 16, 29, 29, NA, 23, 22, 28, 20, 2...
## $ pts_per_game  &lt;int&gt; 13, 24, 19, 9, 11, 8, 20, 14, 11, 13, 9, 13, 12, 16, ...
## $ trb_per_game  &lt;int&gt; 8, 6, 5, 9, 6, 3, 4, 15, 6, 3, 7, 3, 6, 8, 5, 3, 7, 1...
## $ ast_per_game  &lt;int&gt; 2, 5, 4, 2, 2, 1, 4, 2, 6, 2, 1, 4, 1, 1, 6, 4, 1, 3,...
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Other data sets, especially those for individual players, calculate the stats as averages per-game. Having variables on the same scale allows us to merge and compare data.</span><span class="w">
</span><span class="c1"># Converting the totals to per-game averages can be done using traditional math operators.</span><span class="w">

</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="w">
    </span><span class="n">fg_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fg</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w">
    </span><span class="n">fga_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fga</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w">
    </span><span class="n">x3p_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x3p</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="w">
    </span><span class="s2">"fg_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fga_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fga"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"x3p_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"x3p"</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="nf">names</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##  [1] "player"        "g"             "gs"            "mins_total"   
##  [5] "fg_total"      "fga_total"     "fg_percent"    "x3p_total"    
##  [9] "x3pa"          "x3p_percent"   "x2p"           "x2pa"         
## [13] "x2p_percent"   "ft"            "fta"           "ft_percent"   
## [17] "orb"           "drb"           "trb_total"     "ast_total"    
## [21] "stl"           "blk"           "tov"           "pf"           
## [25] "pts_total"     "na"            "mins_per_game" "pts_per_game" 
## [29] "trb_per_game"  "ast_per_game"  "fg_per_game"   "fga_per_game" 
## [33] "x3p_per_game"
</code></pre></div></div>

<h2 id="import-the-oneal-data-set">Import the Oâ€™Neal Data set</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># put the link into a variable</span><span class="w">
</span><span class="n">url1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://www.basketball-reference.com/players/o/onealsh01.html"</span><span class="w">
</span><span class="c1"># read the url link with rvest</span><span class="w">
</span><span class="n">pageobj1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read_html</span><span class="p">(</span><span class="n">url1</span><span class="p">,</span><span class="w"> </span><span class="n">as.tibble</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="c1"># extract the necessary table by specifying the nr of the table on the web page</span><span class="w">
</span><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pageobj1</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">"table"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">.</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_table</span><span class="p">()</span><span class="w">
</span><span class="c1"># get a glimpse of the dta imported</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 29
## Columns: 30
## $ Season &lt;chr&gt; "1992-93", "1993-94", "1994-95", "1995-96", "1996-97", "1997...
## $ Age    &lt;int&gt; 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, ...
## $ Tm     &lt;chr&gt; "ORL", "ORL", "ORL", "ORL", "LAL", "LAL", "LAL", "LAL", "LAL...
## $ Lg     &lt;chr&gt; "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA...
## $ Pos    &lt;chr&gt; "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", ...
## $ G      &lt;int&gt; 81, 81, 79, 54, 51, 60, 49, 79, 74, 67, 67, 67, 73, 59, 40, ...
## $ GS     &lt;int&gt; 81, 81, 79, 52, 51, 57, 49, 79, 74, 66, 66, 67, 73, 58, 39, ...
## $ MP     &lt;dbl&gt; 37.9, 39.8, 37.0, 36.0, 38.1, 36.3, 34.8, 40.0, 39.5, 36.1, ...
## $ FG     &lt;dbl&gt; 9.0, 11.8, 11.8, 11.0, 10.8, 11.2, 10.4, 12.1, 11.0, 10.6, 1...
## $ FGA    &lt;dbl&gt; 16.1, 19.6, 20.2, 19.1, 19.4, 19.1, 18.1, 21.1, 19.2, 18.3, ...
## $ `FG%`  &lt;dbl&gt; 0.562, 0.599, 0.583, 0.573, 0.557, 0.584, 0.576, 0.574, 0.57...
## $ `3P`   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
## $ `3PA`  &lt;dbl&gt; 0.0, 0.0, 0.1, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...
## $ `3P%`  &lt;dbl&gt; 0.000, 0.000, 0.000, 0.500, 0.000, NA, 0.000, 0.000, 0.000, ...
## $ `2P`   &lt;dbl&gt; 9.0, 11.8, 11.8, 10.9, 10.8, 11.2, 10.4, 12.1, 11.0, 10.6, 1...
## $ `2PA`  &lt;dbl&gt; 16.1, 19.6, 20.1, 19.1, 19.4, 19.1, 18.0, 21.1, 19.2, 18.3, ...
## $ `2P%`  &lt;dbl&gt; 0.563, 0.600, 0.585, 0.573, 0.559, 0.584, 0.577, 0.575, 0.57...
## $ `eFG%` &lt;dbl&gt; 0.562, 0.599, 0.583, 0.574, 0.557, 0.584, 0.576, 0.574, 0.57...
## $ FT     &lt;dbl&gt; 5.3, 5.8, 5.8, 4.6, 4.5, 6.0, 5.5, 5.5, 6.7, 5.9, 6.7, 4.9, ...
## $ FTA    &lt;dbl&gt; 8.9, 10.5, 10.8, 9.5, 9.4, 11.4, 10.2, 10.4, 13.1, 10.7, 10....
## $ `FT%`  &lt;dbl&gt; 0.592, 0.554, 0.533, 0.487, 0.484, 0.527, 0.540, 0.524, 0.51...
## $ ORB    &lt;dbl&gt; 4.2, 4.7, 4.2, 3.4, 3.8, 3.5, 3.8, 4.3, 3.9, 3.5, 3.9, 3.7, ...
## $ DRB    &lt;dbl&gt; 9.6, 8.5, 7.3, 7.7, 8.7, 7.9, 6.9, 9.4, 8.8, 7.2, 7.2, 7.8, ...
## $ TRB    &lt;dbl&gt; 13.9, 13.2, 11.4, 11.0, 12.5, 11.4, 10.7, 13.6, 12.7, 10.7, ...
## $ AST    &lt;dbl&gt; 1.9, 2.4, 2.7, 2.9, 3.1, 2.4, 2.3, 3.8, 3.7, 3.0, 3.1, 2.9, ...
## $ STL    &lt;dbl&gt; 0.7, 0.9, 0.9, 0.6, 0.9, 0.7, 0.7, 0.5, 0.6, 0.6, 0.6, 0.5, ...
## $ BLK    &lt;dbl&gt; 3.5, 2.9, 2.4, 2.1, 2.9, 2.4, 1.7, 3.0, 2.8, 2.0, 2.4, 2.5, ...
## $ TOV    &lt;dbl&gt; 3.8, 2.7, 2.6, 2.9, 2.9, 2.9, 2.5, 2.8, 2.9, 2.6, 2.9, 2.9, ...
## $ PF     &lt;dbl&gt; 4.0, 3.5, 3.3, 3.6, 3.5, 3.2, 3.2, 3.2, 3.5, 3.0, 3.4, 3.4, ...
## $ PTS    &lt;dbl&gt; 23.4, 29.3, 29.3, 26.6, 26.2, 28.3, 26.3, 29.7, 28.7, 27.2, ...
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">view</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="select-only-the-evident-rows">Select only the evident rows</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># use slice function to sebset a data set</span><span class="w">
</span><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">slice</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">21</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">clean_names</span><span class="p">()</span><span class="w">
</span><span class="c1"># check integrity of the data frame </span><span class="w">
</span><span class="n">view</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 21
## Columns: 30
## $ season       &lt;chr&gt; "1992-93", "1993-94", "1994-95", "1995-96", "1996-97",...
## $ age          &lt;int&gt; 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33...
## $ tm           &lt;chr&gt; "ORL", "ORL", "ORL", "ORL", "LAL", "LAL", "LAL", "LAL"...
## $ lg           &lt;chr&gt; "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA"...
## $ pos          &lt;chr&gt; "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C",...
## $ g            &lt;int&gt; 81, 81, 79, 54, 51, 60, 49, 79, 74, 67, 67, 67, 73, 59...
## $ gs           &lt;int&gt; 81, 81, 79, 52, 51, 57, 49, 79, 74, 66, 66, 67, 73, 58...
## $ mp           &lt;dbl&gt; 37.9, 39.8, 37.0, 36.0, 38.1, 36.3, 34.8, 40.0, 39.5, ...
## $ fg           &lt;dbl&gt; 9.0, 11.8, 11.8, 11.0, 10.8, 11.2, 10.4, 12.1, 11.0, 1...
## $ fga          &lt;dbl&gt; 16.1, 19.6, 20.2, 19.1, 19.4, 19.1, 18.1, 21.1, 19.2, ...
## $ fg_percent   &lt;dbl&gt; 0.562, 0.599, 0.583, 0.573, 0.557, 0.584, 0.576, 0.574...
## $ x3p          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
## $ x3pa         &lt;dbl&gt; 0.0, 0.0, 0.1, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,...
## $ x3p_percent  &lt;dbl&gt; 0.0, 0.0, 0.0, 0.5, 0.0, NA, 0.0, 0.0, 0.0, 0.0, NA, N...
## $ x2p          &lt;dbl&gt; 9.0, 11.8, 11.8, 10.9, 10.8, 11.2, 10.4, 12.1, 11.0, 1...
## $ x2pa         &lt;dbl&gt; 16.1, 19.6, 20.1, 19.1, 19.4, 19.1, 18.0, 21.1, 19.2, ...
## $ x2p_percent  &lt;dbl&gt; 0.563, 0.600, 0.585, 0.573, 0.559, 0.584, 0.577, 0.575...
## $ e_fg_percent &lt;dbl&gt; 0.562, 0.599, 0.583, 0.574, 0.557, 0.584, 0.576, 0.574...
## $ ft           &lt;dbl&gt; 5.3, 5.8, 5.8, 4.6, 4.5, 6.0, 5.5, 5.5, 6.7, 5.9, 6.7,...
## $ fta          &lt;dbl&gt; 8.9, 10.5, 10.8, 9.5, 9.4, 11.4, 10.2, 10.4, 13.1, 10....
## $ ft_percent   &lt;dbl&gt; 0.592, 0.554, 0.533, 0.487, 0.484, 0.527, 0.540, 0.524...
## $ orb          &lt;dbl&gt; 4.2, 4.7, 4.2, 3.4, 3.8, 3.5, 3.8, 4.3, 3.9, 3.5, 3.9,...
## $ drb          &lt;dbl&gt; 9.6, 8.5, 7.3, 7.7, 8.7, 7.9, 6.9, 9.4, 8.8, 7.2, 7.2,...
## $ trb          &lt;dbl&gt; 13.9, 13.2, 11.4, 11.0, 12.5, 11.4, 10.7, 13.6, 12.7, ...
## $ ast          &lt;dbl&gt; 1.9, 2.4, 2.7, 2.9, 3.1, 2.4, 2.3, 3.8, 3.7, 3.0, 3.1,...
## $ stl          &lt;dbl&gt; 0.7, 0.9, 0.9, 0.6, 0.9, 0.7, 0.7, 0.5, 0.6, 0.6, 0.6,...
## $ blk          &lt;dbl&gt; 3.5, 2.9, 2.4, 2.1, 2.9, 2.4, 1.7, 3.0, 2.8, 2.0, 2.4,...
## $ tov          &lt;dbl&gt; 3.8, 2.7, 2.6, 2.9, 2.9, 2.9, 2.5, 2.8, 2.9, 2.6, 2.9,...
## $ pf           &lt;dbl&gt; 4.0, 3.5, 3.3, 3.6, 3.5, 3.2, 3.2, 3.2, 3.5, 3.0, 3.4,...
## $ pts          &lt;dbl&gt; 23.4, 29.3, 29.3, 26.6, 26.2, 28.3, 26.3, 29.7, 28.7, ...
</code></pre></div></div>

<h2 id="add-the-column-player-to-the-oneal-data-frame">Add the column Player to the Oneal data frame</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="w">
    </span><span class="n">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Shaquille O'Neal"</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="w">
    </span><span class="n">season</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AllStar"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">remove_empty</span><span class="p">()</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="w">
    </span><span class="n">fg_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fg</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w">
    </span><span class="n">fga_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fga</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w">
    </span><span class="n">x3p_per_game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x3p</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">g</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="w">
    </span><span class="s2">"fg_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fga_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fga"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"x3p_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"x3p"</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="n">glimpse</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Rows: 21
## Columns: 34
## $ season       &lt;chr&gt; "1992-93", "1993-94", "1994-95", "1995-96", "1996-97",...
## $ age          &lt;int&gt; 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33...
## $ tm           &lt;chr&gt; "ORL", "ORL", "ORL", "ORL", "LAL", "LAL", "LAL", "LAL"...
## $ lg           &lt;chr&gt; "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA", "NBA"...
## $ pos          &lt;chr&gt; "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C",...
## $ g            &lt;int&gt; 81, 81, 79, 54, 51, 60, 49, 79, 74, 67, 67, 67, 73, 59...
## $ gs           &lt;int&gt; 81, 81, 79, 52, 51, 57, 49, 79, 74, 66, 66, 67, 73, 58...
## $ mp           &lt;dbl&gt; 37.9, 39.8, 37.0, 36.0, 38.1, 36.3, 34.8, 40.0, 39.5, ...
## $ fg_total     &lt;dbl&gt; 9.0, 11.8, 11.8, 11.0, 10.8, 11.2, 10.4, 12.1, 11.0, 1...
## $ fga_total    &lt;dbl&gt; 16.1, 19.6, 20.2, 19.1, 19.4, 19.1, 18.1, 21.1, 19.2, ...
## $ fg_percent   &lt;dbl&gt; 0.562, 0.599, 0.583, 0.573, 0.557, 0.584, 0.576, 0.574...
## $ x3p_total    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
## $ x3pa         &lt;dbl&gt; 0.0, 0.0, 0.1, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,...
## $ x3p_percent  &lt;dbl&gt; 0.0, 0.0, 0.0, 0.5, 0.0, NA, 0.0, 0.0, 0.0, 0.0, NA, N...
## $ x2p          &lt;dbl&gt; 9.0, 11.8, 11.8, 10.9, 10.8, 11.2, 10.4, 12.1, 11.0, 1...
## $ x2pa         &lt;dbl&gt; 16.1, 19.6, 20.1, 19.1, 19.4, 19.1, 18.0, 21.1, 19.2, ...
## $ x2p_percent  &lt;dbl&gt; 0.563, 0.600, 0.585, 0.573, 0.559, 0.584, 0.577, 0.575...
## $ e_fg_percent &lt;dbl&gt; 0.562, 0.599, 0.583, 0.574, 0.557, 0.584, 0.576, 0.574...
## $ ft           &lt;dbl&gt; 5.3, 5.8, 5.8, 4.6, 4.5, 6.0, 5.5, 5.5, 6.7, 5.9, 6.7,...
## $ fta          &lt;dbl&gt; 8.9, 10.5, 10.8, 9.5, 9.4, 11.4, 10.2, 10.4, 13.1, 10....
## $ ft_percent   &lt;dbl&gt; 0.592, 0.554, 0.533, 0.487, 0.484, 0.527, 0.540, 0.524...
## $ orb          &lt;dbl&gt; 4.2, 4.7, 4.2, 3.4, 3.8, 3.5, 3.8, 4.3, 3.9, 3.5, 3.9,...
## $ drb          &lt;dbl&gt; 9.6, 8.5, 7.3, 7.7, 8.7, 7.9, 6.9, 9.4, 8.8, 7.2, 7.2,...
## $ trb          &lt;dbl&gt; 13.9, 13.2, 11.4, 11.0, 12.5, 11.4, 10.7, 13.6, 12.7, ...
## $ ast          &lt;dbl&gt; 1.9, 2.4, 2.7, 2.9, 3.1, 2.4, 2.3, 3.8, 3.7, 3.0, 3.1,...
## $ stl          &lt;dbl&gt; 0.7, 0.9, 0.9, 0.6, 0.9, 0.7, 0.7, 0.5, 0.6, 0.6, 0.6,...
## $ blk          &lt;dbl&gt; 3.5, 2.9, 2.4, 2.1, 2.9, 2.4, 1.7, 3.0, 2.8, 2.0, 2.4,...
## $ tov          &lt;dbl&gt; 3.8, 2.7, 2.6, 2.9, 2.9, 2.9, 2.5, 2.8, 2.9, 2.6, 2.9,...
## $ pf           &lt;dbl&gt; 4.0, 3.5, 3.3, 3.6, 3.5, 3.2, 3.2, 3.2, 3.5, 3.0, 3.4,...
## $ pts          &lt;dbl&gt; 23.4, 29.3, 29.3, 26.6, 26.2, 28.3, 26.3, 29.7, 28.7, ...
## $ player       &lt;chr&gt; "Shaquille O'Neal", "Shaquille O'Neal", "Shaquille O'N...
## $ fg_per_game  &lt;dbl&gt; 0.11111111, 0.14567901, 0.14936709, 0.20370370, 0.2117...
## $ fga_per_game &lt;dbl&gt; 0.1987654, 0.2419753, 0.2556962, 0.3537037, 0.3803922,...
## $ x3p_per_game &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="s2">"mins_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mp"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"pts_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pts"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"trb_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"trb"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ast_total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ast"</span><span class="p">)</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">Oneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">convert</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="s2">"g"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gs"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mins_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fg_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fga_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3p_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3pa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x2p"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x2pa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ft"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"orb"</span><span class="p">,</span><span class="w"> </span><span class="s2">"drb"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trb_total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ast_total"</span><span class="p">,</span><span class="s2">"stl"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tov"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pf"</span><span class="p">),</span><span class="w">
      </span><span class="n">num</span><span class="p">(</span><span class="s2">"fg_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x3p_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"x2p_percent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ft_percent"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<h2 id="compare-the-names-of-the-two-data-frames">Compare the names of the two data frames</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Instead of individually comparing the files we can use the janitor function compare_df_cols_same().</span><span class="w">
</span><span class="n">compare_df_cols_same</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">,</span><span class="w"> </span><span class="n">Oneal</span><span class="p">,</span><span class="w"> </span><span class="n">bind_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"rbind"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##      column_name       ..1       ..2
## 1            age      &lt;NA&gt;   integer
## 2   ast_per_game   integer      &lt;NA&gt;
## 3   e_fg_percent      &lt;NA&gt;   numeric
## 4             lg      &lt;NA&gt; character
## 5  mins_per_game   integer      &lt;NA&gt;
## 6            pos      &lt;NA&gt; character
## 7   pts_per_game   integer      &lt;NA&gt;
## 8      pts_total character   numeric
## 9             tm      &lt;NA&gt; character
## 10  trb_per_game   integer      &lt;NA&gt;

## [1] FALSE
</code></pre></div></div>

<h2 id="remove-the-columns-from-allstarplayers-that-are-not-present-in-oneal">Remove the columns from AllStarPlayers that are not present in Oneal</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AllStarsPlayers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">ast_per_game</span><span class="p">,</span><span class="o">-</span><span class="n">mins_per_game</span><span class="p">,</span><span class="o">-</span><span class="n">pts_per_game</span><span class="p">,</span><span class="o">-</span><span class="n">pts_total</span><span class="p">,</span><span class="o">-</span><span class="n">trb_per_game</span><span class="p">)</span><span class="w">

</span><span class="n">Oneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Oneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">,</span><span class="o">-</span><span class="n">e_fg_percent</span><span class="p">,</span><span class="o">-</span><span class="n">lg</span><span class="p">,</span><span class="o">-</span><span class="n">pos</span><span class="p">,</span><span class="o">-</span><span class="n">pts_total</span><span class="p">,</span><span class="o">-</span><span class="n">tm</span><span class="p">)</span><span class="w">

</span><span class="n">AllStarsOneal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">AllStarsPlayers</span><span class="p">,</span><span class="w"> </span><span class="n">Oneal</span><span class="p">)</span><span class="w">

</span><span class="n">view</span><span class="p">(</span><span class="n">AllStarsOneal</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="extract-shaquille-oneal-details-from-allstarsoneal-data-frame">Extract Shaquille Oâ€™Neal details from AllstarsOneal data frame</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AllStarsOneal</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">filter</span><span class="p">(</span><span class="n">player</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Shaquille O'Neal"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## # A tibble: 22 x 28
##    player     g    gs mins_total fg_total fga_total fg_percent x3p_total  x3pa
##    &lt;chr&gt;  &lt;int&gt; &lt;int&gt;      &lt;int&gt;    &lt;int&gt;     &lt;int&gt;      &lt;dbl&gt;     &lt;int&gt; &lt;int&gt;
##  1 Shaqu~    12     9        274       87       158      0.551         0     2
##  2 Shaqu~    81    81         37        9        16      0.562         0     0
##  3 Shaqu~    81    81         39       11        19      0.599         0     0
##  4 Shaqu~    79    79         37       11        20      0.583         0     0
##  5 Shaqu~    54    52         36       11        19      0.573         0     0
##  6 Shaqu~    51    51         38       10        19      0.557         0     0
##  7 Shaqu~    60    57         36       11        19      0.584         0     0
##  8 Shaqu~    49    49         34       10        18      0.576         0     0
##  9 Shaqu~    79    79         40       12        21      0.574         0     0
## 10 Shaqu~    74    74         39       11        19      0.572         0     0
## # ... with 12 more rows, and 19 more variables: x3p_percent &lt;dbl&gt;, x2p &lt;int&gt;,
## #   x2pa &lt;int&gt;, x2p_percent &lt;dbl&gt;, ft &lt;int&gt;, fta &lt;int&gt;, ft_percent &lt;dbl&gt;,
## #   orb &lt;int&gt;, drb &lt;int&gt;, trb_total &lt;int&gt;, ast_total &lt;int&gt;, stl &lt;int&gt;,
## #   blk &lt;int&gt;, tov &lt;int&gt;, pf &lt;int&gt;, fg_per_game &lt;dbl&gt;, fga_per_game &lt;dbl&gt;,
## #   x3p_per_game &lt;dbl&gt;, season &lt;chr&gt;
</code></pre></div></div>
:ET